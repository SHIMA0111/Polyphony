package message

import "time"

// MessageType represents the origin of a message.
type MessageType string

const (
	// MessageTypeHuman is a message sent by a human user.
	MessageTypeHuman MessageType = "human"

	// MessageTypeAI is a message generated by an AI model.
	MessageTypeAI MessageType = "ai"
)

// MessageStatus represents the delivery status of a message.
type MessageStatus string

const (
	// MessageStatusCompleted indicates the message was delivered successfully.
	MessageStatusCompleted MessageStatus = "completed"

	// MessageStatusFailed indicates the AI call failed. Eligible for regeneration.
	MessageStatusFailed MessageStatus = "failed"
)

// Message represents a single message in a chat room.
type Message struct {
	ID        string
	RoomID    string
	SenderID  *string // nil for AI messages
	Content   string
	Type      MessageType
	Status    MessageStatus
	Sequence  int64
	CreatedAt time.Time
	UpdatedAt time.Time
}

// CursorPage holds a page of messages with cursor-based pagination.
type CursorPage struct {
	Messages   []*Message
	NextCursor *string // nil when no more pages
}
